{"ast":null,"code":"const dom = {\n  area: document.createElement('div'),\n  x: document.createElement('div'),\n  y: document.createElement('div')\n};\nObject.assign(dom.area.style, {\n  position: 'fixed',\n  backgroundColor: 'rgba(0, 136, 204, 0.2)',\n  zIndex: '2147483647',\n  pointerEvents: 'none'\n});\nObject.assign(dom.x.style, {\n  position: 'fixed',\n  borderStyle: 'dashed',\n  borderColor: 'rgb(0, 136, 204)',\n  borderWidth: '1px 0',\n  zIndex: '2147483647',\n  left: '0',\n  width: '100vw',\n  pointerEvents: 'none'\n});\nObject.assign(dom.y.style, {\n  position: 'fixed',\n  borderStyle: 'dashed',\n  borderColor: 'rgb(0, 136, 204)',\n  borderWidth: '0 1px',\n  zIndex: '2147483647',\n  top: '0',\n  height: '100vh',\n  pointerEvents: 'none'\n});\n\nfunction getOffset(element) {\n  const styles = getComputedStyle(element);\n  const margin = {\n    top: Math.max(parseInt(styles.marginTop), 0),\n    right: Math.max(parseInt(styles.marginRight), 0),\n    bottom: Math.max(parseInt(styles.marginBottom), 0),\n    left: Math.max(parseInt(styles.marginLeft), 0)\n  };\n  const rect = {\n    width: element.offsetWidth + margin.right + margin.left,\n    height: element.offsetHeight + margin.top + margin.bottom,\n    top: element.offsetTop - margin.top,\n    left: element.offsetLeft - margin.left\n  };\n  let parent = element;\n\n  while (parent = parent.offsetParent || parent.ownerDocument.defaultView.frameElement) {\n    rect.top += parent.offsetTop;\n    rect.left += parent.offsetLeft;\n  }\n\n  parent = element;\n\n  while (parent = parent.parentElement || parent.ownerDocument.defaultView.frameElement) {\n    rect.top -= parent.scrollTop;\n    rect.left -= parent.scrollLeft;\n  }\n\n  rect.right = rect.left + rect.width;\n  rect.bottom = rect.top + rect.height;\n  return rect;\n}\n\nfunction getBoundingRect(node) {\n  if (node.type == 'element') return getOffset(node.detail);\n  const union = {\n    top: Infinity,\n    left: Infinity,\n    bottom: -Infinity,\n    right: -Infinity\n  };\n\n  for (const child of node.children) {\n    const rect = getBoundingRect(child);\n    if (rect.top < union.top) union.top = rect.top;\n    if (rect.left < union.left) union.left = rect.left;\n    if (rect.bottom > union.bottom) union.bottom = rect.bottom;\n    if (rect.right > union.right) union.right = rect.right;\n  }\n\n  union.width = union.right - union.left;\n  union.height = union.bottom - union.top;\n  return union;\n}\n\nexport function highlight(node) {\n  if (!node) {\n    dom.area.remove();\n    dom.x.remove();\n    dom.y.remove();\n    return;\n  }\n\n  const box = getBoundingRect(node);\n  Object.assign(dom.area.style, {\n    top: box.top + 'px',\n    left: box.left + 'px',\n    width: box.width + 'px',\n    height: box.height + 'px'\n  });\n  document.body.append(dom.area);\n  Object.assign(dom.x.style, {\n    top: box.top + 'px',\n    height: box.height - 2 + 'px'\n  });\n  document.body.append(dom.x);\n  Object.assign(dom.y.style, {\n    left: box.left + 'px',\n    width: box.width - 2 + 'px'\n  });\n  document.body.append(dom.y);\n}\nlet target = null;\n\nfunction handleMousemove(e) {\n  target = e.target;\n  highlight({\n    type: 'element',\n    detail: target\n  });\n  console.log(target);\n}\n\nfunction handleClick() {\n  stopPicker();\n\n  window.__svelte_devtools_select_element(target);\n}\n\nexport function stopPicker() {\n  document.removeEventListener('mousemove', handleMousemove, true);\n  highlight(null);\n}\nexport function startPicker() {\n  document.addEventListener('mousemove', handleMousemove, true);\n  document.addEventListener('click', handleClick, {\n    capture: true,\n    once: true\n  });\n}","map":{"version":3,"sources":["/Users/michalzaduban/Desktop/Iteria/lowCode - new/lowcode/packages/react-poc/src/highlight.js"],"names":["dom","area","document","createElement","x","y","Object","assign","style","position","backgroundColor","zIndex","pointerEvents","borderStyle","borderColor","borderWidth","left","width","top","height","getOffset","element","styles","getComputedStyle","margin","Math","max","parseInt","marginTop","right","marginRight","bottom","marginBottom","marginLeft","rect","offsetWidth","offsetHeight","offsetTop","offsetLeft","parent","offsetParent","ownerDocument","defaultView","frameElement","parentElement","scrollTop","scrollLeft","getBoundingRect","node","type","detail","union","Infinity","child","children","highlight","remove","box","body","append","target","handleMousemove","e","console","log","handleClick","stopPicker","window","__svelte_devtools_select_element","removeEventListener","startPicker","addEventListener","capture","once"],"mappings":"AAAA,MAAMA,GAAG,GAAG;AACRC,EAAAA,IAAI,EAAEC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CADE;AAERC,EAAAA,CAAC,EAAEF,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAFK;AAGRE,EAAAA,CAAC,EAAEH,QAAQ,CAACC,aAAT,CAAuB,KAAvB;AAHK,CAAZ;AAMAG,MAAM,CAACC,MAAP,CAAcP,GAAG,CAACC,IAAJ,CAASO,KAAvB,EAA8B;AAC1BC,EAAAA,QAAQ,EAAE,OADgB;AAE1BC,EAAAA,eAAe,EAAE,wBAFS;AAG1BC,EAAAA,MAAM,EAAE,YAHkB;AAI1BC,EAAAA,aAAa,EAAE;AAJW,CAA9B;AAOAN,MAAM,CAACC,MAAP,CAAcP,GAAG,CAACI,CAAJ,CAAMI,KAApB,EAA2B;AACvBC,EAAAA,QAAQ,EAAE,OADa;AAEvBI,EAAAA,WAAW,EAAE,QAFU;AAGvBC,EAAAA,WAAW,EAAE,kBAHU;AAIvBC,EAAAA,WAAW,EAAE,OAJU;AAKvBJ,EAAAA,MAAM,EAAE,YALe;AAMvBK,EAAAA,IAAI,EAAE,GANiB;AAOvBC,EAAAA,KAAK,EAAE,OAPgB;AAQvBL,EAAAA,aAAa,EAAE;AARQ,CAA3B;AAWAN,MAAM,CAACC,MAAP,CAAcP,GAAG,CAACK,CAAJ,CAAMG,KAApB,EAA2B;AACvBC,EAAAA,QAAQ,EAAE,OADa;AAEvBI,EAAAA,WAAW,EAAE,QAFU;AAGvBC,EAAAA,WAAW,EAAE,kBAHU;AAIvBC,EAAAA,WAAW,EAAE,OAJU;AAKvBJ,EAAAA,MAAM,EAAE,YALe;AAMvBO,EAAAA,GAAG,EAAE,GANkB;AAOvBC,EAAAA,MAAM,EAAE,OAPe;AAQvBP,EAAAA,aAAa,EAAE;AARQ,CAA3B;;AAWA,SAASQ,SAAT,CAAmBC,OAAnB,EAA4B;AACxB,QAAMC,MAAM,GAAGC,gBAAgB,CAACF,OAAD,CAA/B;AACA,QAAMG,MAAM,GAAG;AACXN,IAAAA,GAAG,EAAEO,IAAI,CAACC,GAAL,CAASC,QAAQ,CAACL,MAAM,CAACM,SAAR,CAAjB,EAAqC,CAArC,CADM;AAEXC,IAAAA,KAAK,EAAEJ,IAAI,CAACC,GAAL,CAASC,QAAQ,CAACL,MAAM,CAACQ,WAAR,CAAjB,EAAuC,CAAvC,CAFI;AAGXC,IAAAA,MAAM,EAAEN,IAAI,CAACC,GAAL,CAASC,QAAQ,CAACL,MAAM,CAACU,YAAR,CAAjB,EAAwC,CAAxC,CAHG;AAIXhB,IAAAA,IAAI,EAAES,IAAI,CAACC,GAAL,CAASC,QAAQ,CAACL,MAAM,CAACW,UAAR,CAAjB,EAAsC,CAAtC;AAJK,GAAf;AAOA,QAAMC,IAAI,GAAG;AACTjB,IAAAA,KAAK,EAAEI,OAAO,CAACc,WAAR,GAAsBX,MAAM,CAACK,KAA7B,GAAqCL,MAAM,CAACR,IAD1C;AAETG,IAAAA,MAAM,EAAEE,OAAO,CAACe,YAAR,GAAuBZ,MAAM,CAACN,GAA9B,GAAoCM,MAAM,CAACO,MAF1C;AAGTb,IAAAA,GAAG,EAAEG,OAAO,CAACgB,SAAR,GAAoBb,MAAM,CAACN,GAHvB;AAITF,IAAAA,IAAI,EAAEK,OAAO,CAACiB,UAAR,GAAqBd,MAAM,CAACR;AAJzB,GAAb;AAOA,MAAIuB,MAAM,GAAGlB,OAAb;;AACA,SACKkB,MAAM,GACHA,MAAM,CAACC,YAAP,IAAuBD,MAAM,CAACE,aAAP,CAAqBC,WAArB,CAAiCC,YAFhE,EAGE;AACET,IAAAA,IAAI,CAAChB,GAAL,IAAYqB,MAAM,CAACF,SAAnB;AACAH,IAAAA,IAAI,CAAClB,IAAL,IAAauB,MAAM,CAACD,UAApB;AACH;;AAEDC,EAAAA,MAAM,GAAGlB,OAAT;;AACA,SACKkB,MAAM,GACHA,MAAM,CAACK,aAAP,IAAwBL,MAAM,CAACE,aAAP,CAAqBC,WAArB,CAAiCC,YAFjE,EAGE;AACET,IAAAA,IAAI,CAAChB,GAAL,IAAYqB,MAAM,CAACM,SAAnB;AACAX,IAAAA,IAAI,CAAClB,IAAL,IAAauB,MAAM,CAACO,UAApB;AACH;;AAEDZ,EAAAA,IAAI,CAACL,KAAL,GAAaK,IAAI,CAAClB,IAAL,GAAYkB,IAAI,CAACjB,KAA9B;AACAiB,EAAAA,IAAI,CAACH,MAAL,GAAcG,IAAI,CAAChB,GAAL,GAAWgB,IAAI,CAACf,MAA9B;AAEA,SAAOe,IAAP;AACH;;AAED,SAASa,eAAT,CAAyBC,IAAzB,EAA+B;AAC3B,MAAIA,IAAI,CAACC,IAAL,IAAa,SAAjB,EAA4B,OAAO7B,SAAS,CAAC4B,IAAI,CAACE,MAAN,CAAhB;AAE5B,QAAMC,KAAK,GAAG;AACVjC,IAAAA,GAAG,EAAEkC,QADK;AAEVpC,IAAAA,IAAI,EAAEoC,QAFI;AAGVrB,IAAAA,MAAM,EAAE,CAACqB,QAHC;AAIVvB,IAAAA,KAAK,EAAE,CAACuB;AAJE,GAAd;;AAOA,OAAK,MAAMC,KAAX,IAAoBL,IAAI,CAACM,QAAzB,EAAmC;AAC/B,UAAMpB,IAAI,GAAGa,eAAe,CAACM,KAAD,CAA5B;AACA,QAAInB,IAAI,CAAChB,GAAL,GAAWiC,KAAK,CAACjC,GAArB,EAA0BiC,KAAK,CAACjC,GAAN,GAAYgB,IAAI,CAAChB,GAAjB;AAC1B,QAAIgB,IAAI,CAAClB,IAAL,GAAYmC,KAAK,CAACnC,IAAtB,EAA4BmC,KAAK,CAACnC,IAAN,GAAakB,IAAI,CAAClB,IAAlB;AAC5B,QAAIkB,IAAI,CAACH,MAAL,GAAcoB,KAAK,CAACpB,MAAxB,EAAgCoB,KAAK,CAACpB,MAAN,GAAeG,IAAI,CAACH,MAApB;AAChC,QAAIG,IAAI,CAACL,KAAL,GAAasB,KAAK,CAACtB,KAAvB,EAA8BsB,KAAK,CAACtB,KAAN,GAAcK,IAAI,CAACL,KAAnB;AACjC;;AAEDsB,EAAAA,KAAK,CAAClC,KAAN,GAAckC,KAAK,CAACtB,KAAN,GAAcsB,KAAK,CAACnC,IAAlC;AACAmC,EAAAA,KAAK,CAAChC,MAAN,GAAegC,KAAK,CAACpB,MAAN,GAAeoB,KAAK,CAACjC,GAApC;AAEA,SAAOiC,KAAP;AACH;;AAED,OAAO,SAASI,SAAT,CAAmBP,IAAnB,EAAyB;AAC5B,MAAI,CAACA,IAAL,EAAW;AACPhD,IAAAA,GAAG,CAACC,IAAJ,CAASuD,MAAT;AACAxD,IAAAA,GAAG,CAACI,CAAJ,CAAMoD,MAAN;AACAxD,IAAAA,GAAG,CAACK,CAAJ,CAAMmD,MAAN;AACA;AACH;;AAED,QAAMC,GAAG,GAAGV,eAAe,CAACC,IAAD,CAA3B;AACA1C,EAAAA,MAAM,CAACC,MAAP,CAAcP,GAAG,CAACC,IAAJ,CAASO,KAAvB,EAA8B;AAC1BU,IAAAA,GAAG,EAAEuC,GAAG,CAACvC,GAAJ,GAAU,IADW;AAE1BF,IAAAA,IAAI,EAAEyC,GAAG,CAACzC,IAAJ,GAAW,IAFS;AAG1BC,IAAAA,KAAK,EAAEwC,GAAG,CAACxC,KAAJ,GAAY,IAHO;AAI1BE,IAAAA,MAAM,EAAEsC,GAAG,CAACtC,MAAJ,GAAa;AAJK,GAA9B;AAMAjB,EAAAA,QAAQ,CAACwD,IAAT,CAAcC,MAAd,CAAqB3D,GAAG,CAACC,IAAzB;AAEAK,EAAAA,MAAM,CAACC,MAAP,CAAcP,GAAG,CAACI,CAAJ,CAAMI,KAApB,EAA2B;AACvBU,IAAAA,GAAG,EAAEuC,GAAG,CAACvC,GAAJ,GAAU,IADQ;AAEvBC,IAAAA,MAAM,EAAEsC,GAAG,CAACtC,MAAJ,GAAa,CAAb,GAAiB;AAFF,GAA3B;AAIAjB,EAAAA,QAAQ,CAACwD,IAAT,CAAcC,MAAd,CAAqB3D,GAAG,CAACI,CAAzB;AAEAE,EAAAA,MAAM,CAACC,MAAP,CAAcP,GAAG,CAACK,CAAJ,CAAMG,KAApB,EAA2B;AACvBQ,IAAAA,IAAI,EAAEyC,GAAG,CAACzC,IAAJ,GAAW,IADM;AAEvBC,IAAAA,KAAK,EAAEwC,GAAG,CAACxC,KAAJ,GAAY,CAAZ,GAAgB;AAFA,GAA3B;AAIAf,EAAAA,QAAQ,CAACwD,IAAT,CAAcC,MAAd,CAAqB3D,GAAG,CAACK,CAAzB;AACH;AAED,IAAIuD,MAAM,GAAG,IAAb;;AACA,SAASC,eAAT,CAAyBC,CAAzB,EAA4B;AACxBF,EAAAA,MAAM,GAAGE,CAAC,CAACF,MAAX;AACAL,EAAAA,SAAS,CAAC;AAAEN,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,MAAM,EAAEU;AAA3B,GAAD,CAAT;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACH;;AAED,SAASK,WAAT,GAAuB;AACnBC,EAAAA,UAAU;;AACVC,EAAAA,MAAM,CAACC,gCAAP,CAAwCR,MAAxC;AACH;;AAED,OAAO,SAASM,UAAT,GAAsB;AACzBhE,EAAAA,QAAQ,CAACmE,mBAAT,CAA6B,WAA7B,EAA0CR,eAA1C,EAA2D,IAA3D;AACAN,EAAAA,SAAS,CAAC,IAAD,CAAT;AACH;AAED,OAAO,SAASe,WAAT,GAAuB;AAC1BpE,EAAAA,QAAQ,CAACqE,gBAAT,CAA0B,WAA1B,EAAuCV,eAAvC,EAAwD,IAAxD;AACA3D,EAAAA,QAAQ,CAACqE,gBAAT,CAA0B,OAA1B,EAAmCN,WAAnC,EAAgD;AAAEO,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,IAAI,EAAE;AAAvB,GAAhD;AACH","sourcesContent":["const dom = {\n    area: document.createElement('div'),\n    x: document.createElement('div'),\n    y: document.createElement('div')\n}\n\nObject.assign(dom.area.style, {\n    position: 'fixed',\n    backgroundColor: 'rgba(0, 136, 204, 0.2)',\n    zIndex: '2147483647',\n    pointerEvents: 'none'\n})\n\nObject.assign(dom.x.style, {\n    position: 'fixed',\n    borderStyle: 'dashed',\n    borderColor: 'rgb(0, 136, 204)',\n    borderWidth: '1px 0',\n    zIndex: '2147483647',\n    left: '0',\n    width: '100vw',\n    pointerEvents: 'none'\n})\n\nObject.assign(dom.y.style, {\n    position: 'fixed',\n    borderStyle: 'dashed',\n    borderColor: 'rgb(0, 136, 204)',\n    borderWidth: '0 1px',\n    zIndex: '2147483647',\n    top: '0',\n    height: '100vh',\n    pointerEvents: 'none'\n})\n\nfunction getOffset(element) {\n    const styles = getComputedStyle(element)\n    const margin = {\n        top: Math.max(parseInt(styles.marginTop), 0),\n        right: Math.max(parseInt(styles.marginRight), 0),\n        bottom: Math.max(parseInt(styles.marginBottom), 0),\n        left: Math.max(parseInt(styles.marginLeft), 0)\n    }\n\n    const rect = {\n        width: element.offsetWidth + margin.right + margin.left,\n        height: element.offsetHeight + margin.top + margin.bottom,\n        top: element.offsetTop - margin.top,\n        left: element.offsetLeft - margin.left\n    }\n\n    let parent = element\n    while (\n        (parent =\n            parent.offsetParent || parent.ownerDocument.defaultView.frameElement)\n    ) {\n        rect.top += parent.offsetTop\n        rect.left += parent.offsetLeft\n    }\n\n    parent = element\n    while (\n        (parent =\n            parent.parentElement || parent.ownerDocument.defaultView.frameElement)\n    ) {\n        rect.top -= parent.scrollTop\n        rect.left -= parent.scrollLeft\n    }\n\n    rect.right = rect.left + rect.width\n    rect.bottom = rect.top + rect.height\n\n    return rect\n}\n\nfunction getBoundingRect(node) {\n    if (node.type == 'element') return getOffset(node.detail)\n\n    const union = {\n        top: Infinity,\n        left: Infinity,\n        bottom: -Infinity,\n        right: -Infinity\n    }\n\n    for (const child of node.children) {\n        const rect = getBoundingRect(child)\n        if (rect.top < union.top) union.top = rect.top\n        if (rect.left < union.left) union.left = rect.left\n        if (rect.bottom > union.bottom) union.bottom = rect.bottom\n        if (rect.right > union.right) union.right = rect.right\n    }\n\n    union.width = union.right - union.left\n    union.height = union.bottom - union.top\n\n    return union\n}\n\nexport function highlight(node) {\n    if (!node) {\n        dom.area.remove()\n        dom.x.remove()\n        dom.y.remove()\n        return\n    }\n\n    const box = getBoundingRect(node)\n    Object.assign(dom.area.style, {\n        top: box.top + 'px',\n        left: box.left + 'px',\n        width: box.width + 'px',\n        height: box.height + 'px'\n    })\n    document.body.append(dom.area)\n\n    Object.assign(dom.x.style, {\n        top: box.top + 'px',\n        height: box.height - 2 + 'px'\n    })\n    document.body.append(dom.x)\n\n    Object.assign(dom.y.style, {\n        left: box.left + 'px',\n        width: box.width - 2 + 'px'\n    })\n    document.body.append(dom.y)\n}\n\nlet target = null\nfunction handleMousemove(e) {\n    target = e.target\n    highlight({ type: 'element', detail: target })\n    console.log(target)\n}\n\nfunction handleClick() {\n    stopPicker()\n    window.__svelte_devtools_select_element(target)\n}\n\nexport function stopPicker() {\n    document.removeEventListener('mousemove', handleMousemove, true)\n    highlight(null)\n}\n\nexport function startPicker() {\n    document.addEventListener('mousemove', handleMousemove, true)\n    document.addEventListener('click', handleClick, { capture: true, once: true })\n}\n"]},"metadata":{},"sourceType":"module"}